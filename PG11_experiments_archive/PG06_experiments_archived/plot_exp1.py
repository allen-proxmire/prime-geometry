import matplotlib.pyplot as plt
import csv

# Input CSV generated by pg6_exp1.py
CSV_FILENAME = "PG6_Exp1_Output.csv"

# Output PNG file
PNG_FILENAME = "PG6_Fig1_MN.png"

# Read the CSV
N = []
M = []

with open(CSV_FILENAME, newline="") as f:
    reader = csv.reader(f)
    next(reader)  # skip header
    for row in reader:
        if len(row) < 2:
            continue
        N.append(int(row[0]))
        M.append(float(row[1]))

# Plot the data
plt.figure(figsize=(10,5))
plt.plot(N, M, marker='o', markersize=3, linewidth=1)
plt.axhline(0, color="black", linewidth=0.8)
plt.xlabel("N")
plt.ylabel("M(N)")
plt.title("Weighted Mean-Zero Curvature: Partial Means $M(N)$")
plt.grid(alpha=0.3)

# Save the PNG
plt.tight_layout()
plt.savefig(PNG_FILENAME, dpi=300)

print(f"Saved plot to: {PNG_FILENAME}")
